<assembly
   xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
   <id>distribution</id>

   <formats>
      <format>zip</format>
   </formats>
   
   <includeBaseDirectory>false</includeBaseDirectory>

   <fileSets>
      <fileSet>
         <directory>..</directory>
         <outputDirectory>seam-jms</outputDirectory>
         <includes>
            <include>readme.txt</include>
            <include>lgpl.txt</include>
         </includes>
      </fileSet>
      
      <!-- Pull in docbook artifacts -->
      <fileSet>
         <directory>../docs/reference/target/docbook/publish</directory>
         <outputDirectory>seam-jms/doc/reference</outputDirectory>
      </fileSet>
      
      <!-- Pull in javadoc for api -->
      <fileSet>
         <directory>../api/target/site/apidocs</directory>
         <outputDirectory>seam-jms/doc/apidocs</outputDirectory>
      </fileSet>

      <!-- Layer sources from API and IMPL projects -->
      <fileSet>
         <directory>../api/src/main/java</directory>
         <outputDirectory>seam-jms/source</outputDirectory>
         <includes>
            <include>**</include>
         </includes>
      </fileSet>

      <fileSet>
         <directory>../impl/src/main/java</directory>
         <outputDirectory>seam-jms/source</outputDirectory>
         <includes>
            <include>**</include>
         </includes>
      </fileSet>
   </fileSets>

   <!-- Add necessary binaries -->
   <dependencySets>
      <dependencySet>
         <outputDirectory>seam-jms/lib</outputDirectory>
         <useProjectArtifact>false</useProjectArtifact>
         <includes>
            <include>org.jboss.seam.jms:seam-jms-api</include>
            <include>org.jboss.seam.jms:seam-jms</include>
            <include>org.jboss.weld:weld-extensions</include>
         </includes>
      </dependencySet>
   </dependencySets>
</assembly>